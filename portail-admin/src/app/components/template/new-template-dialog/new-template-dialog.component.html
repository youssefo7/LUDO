<div class="defi-creation-form">
  <button type="button" class="btn btn-flat close-button" (click)="onCancel()">
    <mat-icon>close</mat-icon>
  </button>

  <h2>Créer un nouveau template</h2>

  <mat-dialog-content>
    <form class="template-form">
      <mat-form-field appearance="outline" class="full-width-field">
        <mat-label>Nom du template</mat-label>
        <input
          matInput
          [(ngModel)]="templateName"
          name="templateName"
          placeholder="Entrez le nom du template"
          required
        />
        <mat-error *ngIf="!templateName">
          Le nom du template est obligatoire
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width-field">
        <mat-label>Description du template</mat-label>
        <textarea
          matInput
          [(ngModel)]="templateDescription"
          name="templateDescription"
          placeholder="Entrez une description"
          rows="3"
        ></textarea>
      </mat-form-field>
    </form>
  </mat-dialog-content>

  <div class="action-buttons">
    <button
      type="button"
      class="btn btn-create"
      (click)="createTemplate()"
      [disabled]="!templateName || isSubmitting"
    >
      <span *ngIf="!isSubmitting">Créer</span>
      <span *ngIf="isSubmitting">
        <mat-spinner diameter="20" style="display: inline-block"></mat-spinner>
        Création en cours...
      </span>
    </button>
  </div>
</div>
